#!/bin/sh
# script to show current power profile
# on click it calls a script to manage active power profile

file="/sys/devices/system/cpu/cpufreq/policy0/energy_performance_preference"

# if cpu does not support energe-performance pref, don't show anything
[ -f "$file" ] || exit

current_profile=$(cat "$file")

case $current_profile in
	power)
	    echo "<span color=\"#78DCA7\"></span>"
	;;
	performance)
	    echo "<span color=\"#D95177\"></span>"
	;;
    *)
	    #   󰗑
	    echo "<span color=\"#759EEA\">󰚀 </span>"
    ;;
esac

if [ "$button" = "3" ]; then
    "$HOME"/.local/bin/rofi-ppd
fi

case $button in
  1) notify-send "Current profile is:" "$current_profile" ;;
  3) rofi-ppd ;;
esac
